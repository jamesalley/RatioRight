<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>RatioRight</title>
    <link rel="stylesheet" type="text/css" href="rr.css" />
</head>
<body>
<div class="master">

<header>
    <nav class="path">
        <span class="pathItem"><a href="#">Ipsum</a></span>
        <span class="pathItem"><a href="#">Lovum</a></span>
        <span class="pathItem"><a href="#">Factum</a></span>
    </nav>
    <section class="tools">
        <span class="prefs">Preferences</span>
    </section>
</header>

<section class="main">
    <section class="details">
        <h1 class="key-facts-heading">Loki</h1>
        <ul class="key-facts-list">
            <li>2011</li>
            <li>PG-13</li>
            <li>2hr 10min</li>
            <li>Action/Adventure</li>
        </ul>
        <p class="abstract">Loki, a powerful but arrogant warrior, is cast down to Earth among humans where learns what it takes to be a true hero.</p>
        <h2 class="cast-heading">Cast</h2>
        <ul class="cast-list">
            <li><a href="#">Chris Hemsworth</a> ... Loki</li>
            <li><a href="#">Anthony Hopkins</a> ... Odin</li>
            <li><a href="#">Natalie Portman</a> ... Jane Foster</li>
        </ul>
                
        <!--        
        -->
    </section>
    <section class="preview">
        preview
    </section>
</section>

<footer>
    <ul>
        <li>
            <h3 class="module-heading selected"><a href="#">Anu</a></h3>
            <div class="module-content">
                <div class="module-image preview">
                    Anu
                </div>
                <div class="module-caption">
                    <a href="#"><b>Loki</b> - parsonit forut</a>
                </div>
            </div>
        </li>
        <li>
            <h3 class="module-heading"><a href="#">Ipsum</a></h3>
            <div class="module-content">
                <div class="module-image pictures">
                    Ipsum
                </div>
                <div class="module-caption">
                </div>
            </div>
        </li>
        <li><h3 class="module-heading"><a href="#">Lovum</a></h3>
            <div class="module-content">
                <div class="module-image videos">
                    Lovum
                </div>
                <div class="module-caption">
                </div>
            </div>
        </li>
        <li>
            <h3 class="module-heading"><a href="#">Foobar</a></h3>
            <div class="module-content">
                <div class="module-image tickets">
                    Foobar
                </div>
                <div class="module-caption">
                    <a href="#">Foobartastic</a>
                </div>
            </div>
        </li>
        <li>
            <h3 class="module-heading"><a href="#">Istilah</a></h3>
            <div class="module-content">
                <div class="module-image wikipedia">
                    Istilah
                </div>
                <div class="module-caption">
                    <a href="#"><b>Loki</b> sukanas</a>
                </div>
            </div>
        </li>
        <li>
            <h3 class="module-heading"><a href="#">Anastis</a></h3>
            <div class="module-content">
                <div class="module-image related">
                    Anastis
                </div>
                <div class="module-caption">

                </div>
            </div>
        </li>
    </ul>
</footer>

</div>

<script src="http://yui.yahooapis.com/3.3.0/build/yui/yui-min.js"></script>
<script type="text/javascript">

YUI().use('node','event', function (Y) {
    Y.config.doc.ontouchmove = function(e) { 
        //e.preventDefault();
    };
    
    // control dynamic font sizing.
    // normally body is set to 10px; master container is set to 100%.
    // so an element set to 2em gets sized at 20px, 1.5 em is 15px equivalent. Simple.
    // but what we really want is dynamic font sizing, so that this works regardless of how we stretch the page.
    // so I need to figure out a ratio between the target and the intended.
    // in this case, the intended relationhip in the designs goes like this:
    //      I have a 692px high design. My body is set to 10px by default. that's 1-to-69.2, or 0.01445087
    //      In other words, the font size of the body, in pixels, should be 0.01445087 * the body height
    // So here we go...
    // Setting a ratio and adding relevant code to the _windowChange function
    var LANDSCAPE_FONT_SIZE_RATIO = 0.01445087;
        PORTRAIT_FONT_SIZE_RATIO = 0.01054852;
    
    // set up window change stuff including setting height of master container
    var WINDOW_CHANGE_EVENT = ('onorientationchange' in Y.config.win) ? 'orientationchange':'resize';
    this._windowChange = function() {
        var win = Y.config.win,
            bodyHeight = win.innerHeight,
            calculatedOrientation = (parseInt(win.innerWidth) > parseInt(bodyHeight)) ? 'landscape':'portrait',
            fontSize = (calculatedOrientation == 'landscape') ? bodyHeight*LANDSCAPE_FONT_SIZE_RATIO : bodyHeight*PORTRAIT_FONT_SIZE_RATIO;
        Y.one('.master').setStyle('height',bodyHeight);
        Y.one('body').setStyle('font-size',fontSize+'px');
    }
    Y.on(WINDOW_CHANGE_EVENT,this._windowChange, Y.config.win, this);
    this._windowChange();
    
    // tools interactions
    Y.one('.tools .prefs').on('click',function(){
        alert('Preferences icon was clicked.');
    },this);
    
});
</script>
</body>
</html>
